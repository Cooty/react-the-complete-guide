"use strict";(self.webpackChunkreact_complete_guide=self.webpackChunkreact_complete_guide||[]).push([[912],{912:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}});var s=n(152),c=n(791),m=n(880),o="Comments_comments__9cxIN",r="NewCommentForm_form__C3cQf",a="NewCommentForm_control__iR6jS",d="NewCommentForm_actions__NC323",l=n(995),u=n(853),i=n(556),f=n(184),x=function(e){var t=e.onAddedComment,n=e.quoteId,s=(0,c.useRef)(),m=(0,l.Z)(u.Ir),o=m.sendRequest,x=m.status,_=m.error;(0,c.useEffect)((function(){"completed"!==x||_||t()}),[x,_,t]);var h=function(e){e.preventDefault();var t=s.current.value;o({quoteId:n,commentData:{text:t}})};return(0,f.jsxs)("form",{className:r,onSubmit:h,children:["pending"===x?(0,f.jsx)("div",{className:"centered",children:(0,f.jsx)(i.default,{})}):null,(0,f.jsxs)("div",{className:a,onSubmit:h,children:[(0,f.jsx)("label",{htmlFor:"comment",children:"Your Comment"}),(0,f.jsx)("textarea",{id:"comment",rows:"5",ref:s})]}),(0,f.jsx)("div",{className:d,children:(0,f.jsx)("button",{className:"btn",children:"Add Comment"})})]})},_="CommentItem_item__+vwzS",h=function(e){return(0,f.jsx)("li",{className:_,children:(0,f.jsx)("p",{children:e.text})})},j="CommentsList_comments__UVWAR",C=function(e){return(0,f.jsx)("ul",{className:j,children:e.comments.map((function(e){return(0,f.jsx)(h,{text:e.text},e.id)}))})},N=function(){var e=(0,c.useState)(!1),t=(0,s.Z)(e,2),n=t[0],r=t[1],a=(0,m.UO)().id,d=(0,l.Z)(u.h_),_=d.sendRequest,h=d.data,j=d.status;(0,c.useEffect)((function(){_(a)}),[a,_]);var N,p=(0,c.useCallback)((function(){r(!1),_(a)}),[a,_]);return"pending"===j&&(N=(0,f.jsx)("div",{className:"centered",children:(0,f.jsx)(i.default,{})})),"completed"===j&&h&&h.length>0&&(N=(0,f.jsx)(C,{comments:h})),"completed"!==j||h&&0!==h.length||(N=(0,f.jsx)("p",{className:"centered",children:"No comments yet..."})),(0,f.jsxs)("section",{className:o,children:[(0,f.jsx)("h2",{children:"User Comments"}),!n&&(0,f.jsx)("button",{className:"btn",onClick:function(){r(!0)},children:"Add a Comment"}),n&&(0,f.jsx)(x,{quoteId:a,onAddedComment:p}),N]})}}}]);
//# sourceMappingURL=912.5ccd87d0.chunk.js.map